{% extends "layout.html" %}

{% block main %}

<form action="/register" method="post">
    <div class="form-group">
        <input autocomplete="off" autofocus class="form-control" name="username" placeholder="Username" type="text" pattern="[^()/><\][\\\x22,.;|]+">
    </div>
    <div class="form-group">
        <input class="form-control" id="password" name="password" placeholder="Password" type="password" pattern="[^()/><\][\\\x22,.;|]+">
    </div>
    <div class="form-group">
        <input class="form-control" id="confirm_password" name="confirmation" placeholder="Confirm Password" type="password">
    </div>
    <button class="btn btn-primary" type="submit">Register</button>
</form>

<script type="text/javascript">

var password = document.getElementById("password"), confirm_password = document.getElementById("confirm_password");

function validatePassword(){
    if(password.value != confirm_password.value) {confirm_password.setCustomValidity("Passwords Don't Match");
      } else {
    confirm_password.setCustomValidity('');
    }
}

password.onchange = validatePassword;
confirm_password.onkeyup = validatePassword;

</script>

{% endblock %}